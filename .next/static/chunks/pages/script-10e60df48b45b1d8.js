(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[209],{2198:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/script",function(){return a(7031)}])},7031:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var n=a(7876),s=a(4232),l=a(5121),r=a(1040);let i="https://greattakes.s3.us-east-2.amazonaws.com/sk/Parasite.pdf",o=e=>{let{data:t}=e;return(0,s.useEffect)(()=>{var e;let a=window.open("","_blank");if(!a)return void alert("Popup blocked! Please allow popups for this site.");let n=a.document,s=n.createElement("style");s.innerHTML="\n            body { font-family: Arial, sans-serif; color: #333; padding: 20px; }\n            .script-analysis h3 { color: #ff6600; }\n            .script-analysis ul { list-style-type: square; padding-left: 1em; }\n            .script-analysis li { margin-bottom: 6px; }\n            details { margin-bottom: 12px; cursor: pointer; }\n        ",n.head.appendChild(s);let l=n.createElement("div");l.className="script-analysis",n.body.appendChild(l),l.innerHTML="\n            <h3>Total Scene Locations: ".concat(null!=(e=t.total_scene_groups)?e:"N/A","</h3>\n            <details open>\n                <summary>Scenes</summary>\n                <ul>\n                    ").concat(t.scene_groups?Object.entries(t.scene_groups).map(e=>{let[t,a]=e;return"<li><strong>".concat(t,"</strong><ul>")+Object.entries(a).map(e=>{let[t,a]=e;return"<li>".concat(t,": ").concat(a.join(", "),"</li>")}).join("")+"</ul></li>"}).join(""):"<li>No scenes found.</li>","\n                </ul>\n            </details>\n            <details open>\n                <summary>Characters</summary>\n                <ul>\n                    ").concat(t.character_scenes?Object.entries(t.character_scenes).map(e=>{let[t,a]=e;return"<li><strong>".concat(t,"</strong>: Appears in scenes ").concat(a.join(", "),"</li>")}).join(""):"<li>No character scenes found.</li>","\n                </ul>\n            </details>\n        ")},[t]),null},c=()=>{let[e,t]=(0,s.useState)(null),[a,c]=(0,s.useState)(null),p=(0,s.useCallback)(async e=>{t(e);let a=new FormData;a.append("file",e);try{let e=await r.A.post("".concat("http://localhost:4000","/upload"),a,{headers:{"Content-Type":"multipart/form-data"}});c(e.data)}catch(e){console.error("Error uploading file:",e),alert("Something went wrong uploading the file.")}},[t,c]),d=async()=>{try{let e=(await r.A.get(i,{responseType:"blob"})).data,t=new File([e],"Parasite.pdf",{type:"application/pdf"});await p(t)}catch(e){console.error("Error fetching remote PDF:",e),alert("Could not fetch or process remote PDF. Make sure the URL is reachable and CORS is enabled on the bucket.")}};return(0,n.jsxs)("div",{className:"flex flex-col items-center justify-center px-4 py-10",children:[(0,n.jsx)("div",{className:"text-lg font-semibold mb-4 text-blue",children:"Upload your script as a PDF"}),(0,n.jsx)("label",{htmlFor:"pdfUpload",className:"cursor-pointer mb-4",children:(0,n.jsx)(l.LEk,{size:100})}),(0,n.jsx)("input",{id:"pdfUpload",type:"file",accept:"application/pdf",style:{display:"none"},onChange:e=>{var t;let a=null==(t=e.target.files)?void 0:t[0];a&&"application/pdf"===a.type?p(a):alert("Please upload a valid PDF file.")}}),(0,n.jsxs)("div",{className:" border-t border-gray-300 pt-4",children:[(0,n.jsx)("p",{children:"See how it works with already existing scripts:"}),(0,n.jsx)("p",{className:"mt-6 font-[600]",children:"Parasite"}),(0,n.jsx)("p",{className:"text-[10px]",children:"Copyright â“’ Barunson Entertainment & Arts Corp. All Rights Reserved."}),(0,n.jsxs)("div",{className:"flex space-x-4 p-2 text-xs",children:[(0,n.jsx)("button",{onClick:()=>{let e=window.open("","_blank","width=800,height=600,toolbar=0,location=0");if(!e)return void alert("Popup blocked! Please allow popups for this site.");e.document.write('\n      <html>\n        <head><title>View PDF</title></head>\n        <body style="margin:0">\n          <embed\n            src="'.concat(i,'"\n            type="application/pdf"\n            width="100%"\n            height="100%"\n          />\n        </body>\n      </html>\n    '))},className:"px-4 py-2 bg-gray-800 text-white rounded hover:bg-gray-700",children:"View Script"}),(0,n.jsx)("button",{onClick:d,className:"px-4 py-2 bg-green-600 text-white rounded hover:bg-green-500",children:"Process Script"})]})]}),e&&(0,n.jsxs)("p",{className:"text-sm text-white mb-4",children:["Selected: ",e.name]}),a&&(0,n.jsx)(o,{data:a})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[511,493,636,593,792],()=>t(2198)),_N_E=e.O()}]);